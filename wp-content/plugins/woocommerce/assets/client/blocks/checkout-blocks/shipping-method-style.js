<<<<<<< HEAD
"use strict";(self.webpackChunkwebpackWcBlocksStylingJsonp=self.webpackChunkwebpackWcBlocksStylingJsonp||[]).push([[9319],{48283:(e,t,i)=>{i.r(t),i.d(t,{default:()=>I});var o=i(51609),c=i(70851),s=i(41616),n=i(14656),r=i(47143),l=i(47594),p=i(65606),a=i(62516),h=i(33588),d=i(27723),m=i(7104),g=i(63705),u=i(11176),k=i(86087),_=i(63835),w=i(15703),E=i(78165),C=i(21985),b=i(39656),S=i(70534);i(93832),(e=>{let t,i=null;const o=(...o)=>{i=o,t&&clearTimeout(t),t=setTimeout((()=>{t=null,i&&e(...i)}),300)};o.flush=()=>{t&&i&&(e(...i),clearTimeout(t),t=null)},o.clear=()=>{t&&clearTimeout(t),t=null}})((e=>{window.localStorage.setItem("WOOCOMMERCE_CHECKOUT_IS_CUSTOMER_DATA_DIRTY",e?"true":"false")}));const T={hidden:!0,message:(0,d.__)("Shipping options are not available","woocommerce")},v=({checked:e,rate:t,showPrice:i,showIcon:s,toggleText:n,multiple:r,onClick:l})=>(0,o.createElement)(E.$,{render:(0,o.createElement)("div",null),role:"radio",onClick:l,"aria-checked":"pickup"===e,className:(0,c.A)("wc-block-checkout__shipping-method-option",{"wc-block-checkout__shipping-method-option--selected":"pickup"===e})},!0===s&&(0,o.createElement)(m.A,{icon:g.A,size:28,className:"wc-block-checkout__shipping-method-option-icon"}),(0,o.createElement)("span",{className:"wc-block-checkout__shipping-method-option-title"},n),!0===i&&(0,o.createElement)(C.e,{multiple:r,minRate:t.min,maxRate:t.max})),x=({checked:e,rate:t,showPrice:i,showIcon:s,toggleText:n,onClick:p,shippingCostRequiresAddress:a=!1})=>{const h=(0,r.useSelect)((e=>e(l.cartStore).getShippingRates().some((({shipping_rates:e})=>!e.every(_.J_))))),g=a&&(()=>{const e=(0,r.select)("wc/store/validation"),t=e.getValidationError("shipping_state"),i=e.getValidationError("shipping_address_1"),o=e.getValidationError("shipping_country"),c=e.getValidationError("shipping_postcode");return[e.getValidationError("shipping_city"),t,i,o,c].some((e=>void 0!==e))})()&&!h,w=void 0!==t.min&&void 0!==t.max,{setValidationErrors:b,clearValidationError:S}=(0,r.useDispatch)(l.validationStore);(0,k.useEffect)((()=>("shipping"!==e||w?S("shipping-rates-error"):b({"shipping-rates-error":T}),()=>S("shipping-rates-error"))),[e,S,w,b]);const v=void 0===t.min||g?(0,o.createElement)("span",{className:"wc-block-checkout__shipping-method-option-price"},(0,d.__)("calculated with an address","woocommerce")):(0,o.createElement)(C.e,{minRate:t.min,maxRate:t.max});return(0,o.createElement)(E.$,{render:(0,o.createElement)("div",null),role:"radio",onClick:p,"aria-checked":"shipping"===e,className:(0,c.A)("wc-block-checkout__shipping-method-option",{"wc-block-checkout__shipping-method-option--selected":"shipping"===e})},!0===s&&(0,o.createElement)(m.A,{icon:u.A,size:28,className:"wc-block-checkout__shipping-method-option-icon"}),(0,o.createElement)("span",{className:"wc-block-checkout__shipping-method-option-title"},n),!0===i&&v)},A=({checked:e,onChange:t,showPrice:i,showIcon:c,localPickupText:s,shippingText:n})=>{var r,l;const{shippingRates:a}=(0,p.m)(),h=(0,w.getSetting)("shippingCostRequiresAddress",!1),d=(0,w.getSetting)("localPickupText",s||S.A);return(0,o.createElement)("div",{id:"shipping-method",className:"components-button-group wc-block-checkout__shipping-method-container",role:"radiogroup"},(0,o.createElement)(x,{checked:e,onClick:()=>{t("shipping")},rate:(0,b.L)(null===(r=a[0])||void 0===r?void 0:r.shipping_rates),showPrice:i,showIcon:c,shippingCostRequiresAddress:h,toggleText:n||S.x}),(0,o.createElement)(v,{checked:e,onClick:()=>{t("pickup")},rate:(0,b._)(null===(l=a[0])||void 0===l?void 0:l.shipping_rates),multiple:a.length>1,showPrice:i,showIcon:c,toggleText:d}))};var P=i(16162);const I=(0,s.withFilteredAttributes)(P.A)((({title:e,description:t,children:i,className:s,showPrice:d,showIcon:m,shippingText:g,localPickupText:u})=>{const{showFormStepNumbers:k}=(0,h.O)(),{checkoutIsProcessing:_,prefersCollection:w}=(0,r.useSelect)((e=>{const t=e(l.checkoutStore);return{checkoutIsProcessing:t.isProcessing(),prefersCollection:t.prefersCollection()}})),{setPrefersCollection:E}=(0,r.useDispatch)(l.checkoutStore),{needsShipping:C,isCollectable:b}=(0,p.m)();return a.h0&&C&&b&&a.F7&&a.mH?(0,o.createElement)(n.FormStep,{id:"shipping-method",disabled:_,className:(0,c.A)("wc-block-checkout__shipping-method",s),title:e,description:t,showStepNumber:k},(0,o.createElement)(A,{checked:w?"pickup":"shipping",onChange:e=>{E("pickup"===e)},showPrice:d,showIcon:m,localPickupText:u,shippingText:g}),i):null}))}}]);
=======
"use strict";(self.webpackChunkwebpackWcBlocksStylingJsonp=self.webpackChunkwebpackWcBlocksStylingJsonp||[]).push([[9319],{11732:(e,r,o)=>{o.r(r),o.d(r,{default:()=>Z});var t={};o.r(t),o.d(t,{clearAllValidationErrors:()=>K,clearValidationError:()=>W,clearValidationErrors:()=>H,hideValidationError:()=>F,setValidationErrors:()=>D,showAllValidationErrors:()=>q,showValidationError:()=>j});var i={};o.r(i),o.d(i,{getValidationError:()=>B,getValidationErrorId:()=>J,hasValidationErrors:()=>Y});var s=o(51609),c=o(70851),n=o(41616),a=o(14656),l=o(47143),p=o(47594),h=o(65606),d=o(62516),g=o(33588),m=o(27723),u=o(7104),k=o(63705),E=o(11176),_=o(86087),w=o(63835),R=o(15703),A=o(78165),O=o(21985),v=o(39656),C=o(70534);o(93832);var b=o(20923),S=o.n(b),V=o(73993);const T="SET_VALIDATION_ERRORS",y="CLEAR_VALIDATION_ERROR",I="CLEAR_VALIDATION_ERRORS",P="HIDE_VALIDATION_ERROR",x="SHOW_VALIDATION_ERROR",N="SHOW_ALL_VALIDATION_ERRORS";var f=o(64040),L=o.n(f);const D=e=>({type:T,errors:e}),H=e=>({type:I,errors:e}),K=()=>(L()("clearAllValidationErrors",{version:"9.0.0",alternative:"clearValidationErrors",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/7601",hint:"Calling `clearValidationErrors` with no arguments will clear all validation errors."}),H()),W=e=>({type:y,error:e}),F=e=>({type:P,error:e}),j=e=>({type:x,error:e}),q=()=>({type:N}),B=(e,r)=>e[r],J=(e,r)=>{if(e.hasOwnProperty(r)&&!e[r].hidden)return`validate-error-${r}`},Y=e=>Object.keys(e).length>0,$={reducer:(e={},r)=>{const o={...e};switch(r.type){case T:return r.errors&&Object.entries(r.errors).some((([r,o])=>!("string"!=typeof(null==o?void 0:o.message)||e.hasOwnProperty(r)&&S()(e[r],o))))?{...e,...r.errors}:e;case y:return(0,V.isString)(r.error)&&o.hasOwnProperty(r.error)?(delete o[r.error],o):o;case I:const{errors:t}=r;return void 0===t?{}:Array.isArray(t)?(t.forEach((e=>{o.hasOwnProperty(e)&&delete o[e]})),o):o;case P:return(0,V.isString)(r.error)&&o.hasOwnProperty(r.error)?(o[r.error].hidden=!0,o):o;case x:return(0,V.isString)(r.error)&&o.hasOwnProperty(r.error)?(o[r.error].hidden=!1,o):o;case N:return Object.keys(o).forEach((e=>{o[e].hidden&&(o[e].hidden=!1)})),{...o};default:return e}},selectors:i,actions:t},z=(0,l.createReduxStore)("wc/store/validation",$);(0,l.register)(z);const U={hidden:!0,message:(0,m.__)("Shipping options are not available","woocommerce")},G=({checked:e,rate:r,showPrice:o,showIcon:t,toggleText:i,multiple:n,onClick:a})=>(0,s.createElement)(A.$,{render:(0,s.createElement)("div",null),role:"radio",onClick:a,className:(0,c.A)("wc-block-checkout__shipping-method-option",{"wc-block-checkout__shipping-method-option--selected":"pickup"===e})},!0===t&&(0,s.createElement)(u.A,{icon:k.A,size:28,className:"wc-block-checkout__shipping-method-option-icon"}),(0,s.createElement)("span",{className:"wc-block-checkout__shipping-method-option-title"},i),!0===o&&(0,s.createElement)(O.e,{multiple:n,minRate:r.min,maxRate:r.max})),M=({checked:e,rate:r,showPrice:o,showIcon:t,toggleText:i,onClick:n,shippingCostRequiresAddress:a=!1})=>{const h=(0,l.useSelect)((e=>e(p.CART_STORE_KEY).getShippingRates().some((({shipping_rates:e})=>!e.every(w.J_))))),d=a&&(()=>{const e=(0,l.select)(z),r=e.getValidationError("shipping_state"),o=e.getValidationError("shipping_address_1"),t=e.getValidationError("shipping_country"),i=e.getValidationError("shipping_postcode");return[e.getValidationError("shipping_city"),r,o,t,i].some((e=>void 0!==e))})()&&!h,g=void 0!==r.min&&void 0!==r.max,{setValidationErrors:k,clearValidationError:R}=(0,l.useDispatch)(p.validationStore);(0,_.useEffect)((()=>{"shipping"!==e||g?R("shipping-rates-error"):k({"shipping-rates-error":U})}),[e,R,g,k]);const v=void 0===r.min||d?(0,s.createElement)("span",{className:"wc-block-checkout__shipping-method-option-price"},(0,m.__)("calculated with an address","woocommerce")):(0,s.createElement)(O.e,{minRate:r.min,maxRate:r.max});return(0,s.createElement)(A.$,{render:(0,s.createElement)("div",null),role:"radio",onClick:n,className:(0,c.A)("wc-block-checkout__shipping-method-option",{"wc-block-checkout__shipping-method-option--selected":"shipping"===e})},!0===t&&(0,s.createElement)(u.A,{icon:E.A,size:28,className:"wc-block-checkout__shipping-method-option-icon"}),(0,s.createElement)("span",{className:"wc-block-checkout__shipping-method-option-title"},i),!0===o&&v)},Q=({checked:e,onChange:r,showPrice:o,showIcon:t,localPickupText:i,shippingText:c})=>{var n,a;const{shippingRates:l}=(0,h.m)(),p=(0,R.getSetting)("shippingCostRequiresAddress",!1),d=(0,R.getSetting)("localPickupText",i||C.A);return(0,s.createElement)("div",{id:"shipping-method",className:"components-button-group wc-block-checkout__shipping-method-container",role:"radiogroup"},(0,s.createElement)(M,{checked:e,onClick:()=>{r("shipping")},rate:(0,v.L)(null===(n=l[0])||void 0===n?void 0:n.shipping_rates),showPrice:o,showIcon:t,shippingCostRequiresAddress:p,toggleText:c||C.x}),(0,s.createElement)(G,{checked:e,onClick:()=>{r("pickup")},rate:(0,v._)(null===(a=l[0])||void 0===a?void 0:a.shipping_rates),multiple:l.length>1,showPrice:o,showIcon:t,toggleText:d}))};var X=o(16162);const Z=(0,n.withFilteredAttributes)(X.A)((({title:e,description:r,children:o,className:t,showPrice:i,showIcon:n,shippingText:m,localPickupText:u})=>{const{showFormStepNumbers:k}=(0,g.O)(),{checkoutIsProcessing:E,prefersCollection:_}=(0,l.useSelect)((e=>{const r=e(p.CHECKOUT_STORE_KEY);return{checkoutIsProcessing:r.isProcessing(),prefersCollection:r.prefersCollection()}})),{setPrefersCollection:w}=(0,l.useDispatch)(p.CHECKOUT_STORE_KEY),{shippingRates:R,needsShipping:A,hasCalculatedShipping:O,isCollectable:v}=(0,h.m)();return A&&O&&R&&v&&d.F7&&d.mH?(0,s.createElement)(a.FormStep,{id:"shipping-method",disabled:E,className:(0,c.A)("wc-block-checkout__shipping-method",t),title:e,description:r,showStepNumber:k},(0,s.createElement)(Q,{checked:_?"pickup":"shipping",onChange:e=>{w("pickup"===e)},showPrice:i,showIcon:n,localPickupText:u,shippingText:m}),o):null}))}}]);
>>>>>>> fa623e74ce55ca1a48265d395a80daf0b504f244
